<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <%- include('layouts/head.email.ejs') %>
  <body
    style="
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
      min-height: 100vh;
    "
  >
    <center class="email-wrapper" style="width: 100%; padding: 30px 15px">
      <table
        width="100%"
        cellpadding="0"
        cellspacing="0"
        border="0"
        class="email-container"
        style="
          max-width: 600px;
          background-color: #ffffff;
          margin: 0 auto;
          border-radius: 16px;
          overflow: hidden;
          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        "
      >
        <!-- Header -->
        <%- include('layouts/header.email.ejs') %>

        <!-- Main Content -->
        <tr>
          <td class="content-container" style="padding: 40px 30px">
            <div class="notification-header" style="margin-bottom: 30px">
              <div
                class="notification-icon"
                style="font-size: 48px; margin-bottom: 16px; text-align: center"
              >
                üìù
              </div>
              <h1
                class="title"
                style="
                  font-size: 28px;
                  font-weight: 700;
                  color: #1e293b;
                  margin: 0 0 8px;
                  line-height: 1.2;
                  text-align: center;
                "
              >
                Article Title Updated
              </h1>
              <p
                class="subtitle"
                style="
                  font-size: 16px;
                  color: #64748b;
                  margin: 0;
                  font-weight: 400;
                  text-align: center;
                "
              >
                Hi <%= user.firstname %>! Your article has had its title updated
              </p>
            </div>

            <div
              class="article-card"
              style="
                background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
                border: 1px solid #e2e8f0;
                border-radius: 12px;
                padding: 24px;
                margin-bottom: 30px;
              "
            >
              <div class="article-header" style="margin-bottom: 20px">
                <h2
                  class="article-title"
                  style="
                    font-size: 20px;
                    font-weight: 600;
                    color: #1e293b;
                    margin: 0 0 8px;
                    line-height: 1.3;
                  "
                >
                  üìÑ Article Title Changed
                </h2>
                <div class="title-change-info" style="margin-top: 16px">
                  <div class="title-row" style="margin-bottom: 16px">
                    <div
                      style="
                        font-size: 14px;
                        color: #64748b;
                        margin-bottom: 8px;
                        font-weight: 500;
                      "
                    >
                      Previous title:
                    </div>
                    <div
                      class="old-title"
                      style="
                        background: #fef2f2;
                        border: 1px solid #fecaca;
                        color: #991b1b;
                        padding: 12px 16px;
                        border-radius: 8px;
                        font-size: 14px;
                        font-weight: 500;
                        word-break: break-word;
                      "
                    >
                      <%= oldTitle %>
                    </div>
                  </div>
                  <div class="title-row" style="margin-bottom: 16px">
                    <div
                      style="
                        font-size: 14px;
                        color: #64748b;
                        margin-bottom: 8px;
                        font-weight: 500;
                      "
                    >
                      New title:
                    </div>
                    <div
                      class="new-title"
                      style="
                        background: #f0fdf4;
                        border: 1px solid #bbf7d0;
                        color: #166534;
                        padding: 12px 16px;
                        border-radius: 8px;
                        font-size: 14px;
                        font-weight: 500;
                        word-break: break-word;
                      "
                    >
                      <%= newTitle %>
                    </div>
                  </div>
                  <div style="font-size: 14px; color: #64748b">
                    <span style="font-weight: 500">Updated by:</span> <%=
                    updatedBy.firstname %> <%= updatedBy.lastname %>
                  </div>
                </div>
              </div>

              <div
                class="article-meta"
                style="
                  display: flex;
                  flex-wrap: wrap;
                  gap: 16px;
                  margin-top: 20px;
                  padding-top: 20px;
                  border-top: 1px solid #e2e8f0;
                "
              >
                <div class="meta-item" style="flex: 1; min-width: 120px">
                  <div
                    class="meta-label"
                    style="
                      font-size: 12px;
                      color: #64748b;
                      font-weight: 500;
                      text-transform: uppercase;
                      letter-spacing: 0.5px;
                      margin-bottom: 4px;
                    "
                  >
                    Project
                  </div>
                  <div
                    class="meta-value"
                    style="font-size: 14px; color: #1e293b; font-weight: 500"
                  >
                    <%= article.project?.name || 'N/A' %>
                  </div>
                </div>
                <div class="meta-item" style="flex: 1; min-width: 120px">
                  <div
                    class="meta-label"
                    style="
                      font-size: 12px;
                      color: #64748b;
                      font-weight: 500;
                      text-transform: uppercase;
                      letter-spacing: 0.5px;
                      margin-bottom: 4px;
                    "
                  >
                    Status
                  </div>
                  <div
                    class="meta-value"
                    style="font-size: 14px; color: #1e293b; font-weight: 500"
                  >
                    <%= article.status.replace('_', ' ') %>
                  </div>
                </div>
                <div class="meta-item" style="flex: 1; min-width: 120px">
                  <div
                    class="meta-label"
                    style="
                      font-size: 12px;
                      color: #64748b;
                      font-weight: 500;
                      text-transform: uppercase;
                      letter-spacing: 0.5px;
                      margin-bottom: 4px;
                    "
                  >
                    Updated
                  </div>
                  <div
                    class="meta-value"
                    style="font-size: 14px; color: #1e293b; font-weight: 500"
                  >
                    <%= new Date().toLocaleDateString() %>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="action-section"
              style="text-align: center; margin-bottom: 30px"
            >
              <a
                href="<%= process.env.CLIENT_URL %>/projects/<%= article.project?.id %>/articles/<%= article.id %>"
                class="cta-button"
                style="
                  display: inline-block;
                  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
                  color: white;
                  text-decoration: none;
                  padding: 14px 28px;
                  border-radius: 8px;
                  font-weight: 600;
                  font-size: 16px;
                  transition: all 0.3s ease;
                  box-shadow: 0 4px 6px rgba(59, 130, 246, 0.3);
                "
              >
                View Article
              </a>
            </div>

            <div
              class="footer-note"
              style="
                background: #f8fafc;
                border: 1px solid #e2e8f0;
                border-radius: 8px;
                padding: 16px;
                text-align: center;
              "
            >
              <p
                style="
                  font-size: 14px;
                  color: #64748b;
                  margin: 0;
                  line-height: 1.5;
                "
              >
                üí° <strong>Note:</strong> This is an informational email about
                the title change.
              </p>
            </div>
          </td>
        </tr>

        <!-- Footer -->
        <%- include('layouts/footer.email.ejs') %>
      </table>
    </center>
  </body>
</html>
